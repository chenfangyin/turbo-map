# å¿«é€Ÿè®¾ç½®æŒ‡å— - GitHub å‘å¸ƒå’Œ CI/CD

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. é…ç½® GitHub Secrets

åœ¨ GitHub ä»“åº“è®¾ç½®ä¸­æ·»åŠ ä»¥ä¸‹ secretsï¼š

1. è¿›å…¥ä»“åº“è®¾ç½® â†’ Secrets and variables â†’ Actions
2. æ·»åŠ ä»¥ä¸‹ secretsï¼š

```bash
NPM_TOKEN=your_npm_token_here
```

**è·å– NPM_TOKENï¼š**
1. ç™»å½• npmjs.com
2. è¿›å…¥ Account Settings â†’ Access Tokens
3. åˆ›å»ºæ–°çš„ "Automation" token
4. å¤åˆ¶ token å¹¶æ·»åŠ åˆ° GitHub secrets

### 2. å¯ç”¨ GitHub Pages

1. è¿›å…¥ä»“åº“è®¾ç½® â†’ Pages
2. Source é€‰æ‹© "GitHub Actions"
3. ä¿å­˜è®¾ç½®

### 3. æµ‹è¯• CI/CD æµç¨‹

æ¨é€ä»£ç åˆ° main åˆ†æ”¯ï¼š

```bash
git add .
git commit -m "feat: add CI/CD configuration"
git push origin main
```

æ£€æŸ¥ GitHub Actions æ˜¯å¦æ­£å¸¸è¿è¡Œã€‚

## ğŸ“¦ å‘å¸ƒæµç¨‹

### è‡ªåŠ¨å‘å¸ƒï¼ˆæ¨èï¼‰

ä½¿ç”¨å‘å¸ƒè„šæœ¬ï¼š

```bash
# è¡¥ä¸ç‰ˆæœ¬ (1.0.0 â†’ 1.0.1)
npm run release:patch

# æ¬¡è¦ç‰ˆæœ¬ (1.0.0 â†’ 1.1.0)
npm run release:minor

# ä¸»è¦ç‰ˆæœ¬ (1.0.0 â†’ 2.0.0)
npm run release:major
```

### æ‰‹åŠ¨å‘å¸ƒ

1. åˆ›å»ºç‰ˆæœ¬æ ‡ç­¾ï¼š
   ```bash
   git tag v1.0.1
   git push origin v1.0.1
   ```

2. æ‰‹åŠ¨è§¦å‘å‘å¸ƒï¼š
   - è¿›å…¥ GitHub Actions
   - é€‰æ‹© "Version Management"
   - ç‚¹å‡» "Run workflow"
   - é€‰æ‹©ç‰ˆæœ¬ç±»å‹

## ğŸ”§ å·¥ä½œæµè¯´æ˜

### CI/CD æµæ°´çº¿
- **è§¦å‘æ¡ä»¶**ï¼šæ¨é€åˆ° main/develop åˆ†æ”¯
- **åŠŸèƒ½**ï¼šæµ‹è¯•ã€æ„å»ºã€å®‰å…¨æ£€æŸ¥
- **æ–‡ä»¶**ï¼š`.github/workflows/ci.yml`

### è‡ªåŠ¨å‘å¸ƒ
- **è§¦å‘æ¡ä»¶**ï¼šæ¨é€ç‰ˆæœ¬æ ‡ç­¾
- **åŠŸèƒ½**ï¼šå‘å¸ƒåˆ° npm + GitHub Releases
- **æ–‡ä»¶**ï¼š`.github/workflows/release.yml`

### ç‰ˆæœ¬ç®¡ç†
- **è§¦å‘æ¡ä»¶**ï¼šæ¨é€åˆ° main åˆ†æ”¯æˆ–æ‰‹åŠ¨è§¦å‘
- **åŠŸèƒ½**ï¼šè‡ªåŠ¨ç‰ˆæœ¬æ›´æ–°å’Œå‘å¸ƒ
- **æ–‡ä»¶**ï¼š`.github/workflows/version.yml`

### æ–‡æ¡£éƒ¨ç½²
- **è§¦å‘æ¡ä»¶**ï¼šæ¨é€åˆ° main åˆ†æ”¯
- **åŠŸèƒ½**ï¼šéƒ¨ç½²æ–‡æ¡£åˆ° GitHub Pages
- **æ–‡ä»¶**ï¼š`.github/workflows/deploy-docs.yml`

## ğŸ“‹ æ£€æŸ¥æ¸…å•

### å‘å¸ƒå‰æ£€æŸ¥

- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] ä»£ç è´¨é‡æ£€æŸ¥é€šè¿‡
- [ ] ç±»å‹æ£€æŸ¥é€šè¿‡
- [ ] æ„å»ºæˆåŠŸ
- [ ] æ›´æ–° CHANGELOG.md
- [ ] ç‰ˆæœ¬å·æ­£ç¡®

### å‘å¸ƒåæ£€æŸ¥

- [ ] npm åŒ…å‘å¸ƒæˆåŠŸ
- [ ] GitHub Release åˆ›å»ºæˆåŠŸ
- [ ] æ–‡æ¡£éƒ¨ç½²æˆåŠŸ
- [ ] æ ‡ç­¾æ¨é€æˆåŠŸ

## ğŸ› å¸¸è§é—®é¢˜

### å‘å¸ƒå¤±è´¥

1. **NPM_TOKEN é”™è¯¯**ï¼š
   - æ£€æŸ¥ token æ˜¯å¦æ­£ç¡®
   - ç¡®è®¤ token æœ‰å‘å¸ƒæƒé™

2. **ç‰ˆæœ¬å†²çª**ï¼š
   - æ£€æŸ¥ç‰ˆæœ¬å·æ˜¯å¦å·²å­˜åœ¨
   - ä½¿ç”¨æ›´é«˜çš„ç‰ˆæœ¬å·

3. **æ„å»ºå¤±è´¥**ï¼š
   - æ£€æŸ¥ TypeScript é”™è¯¯
   - éªŒè¯ä¾èµ–å®‰è£…

### å·¥ä½œæµå¤±è´¥

1. **æƒé™é—®é¢˜**ï¼š
   - æ£€æŸ¥ GitHub token æƒé™
   - ç¡®è®¤ä»“åº“è®¾ç½®æ­£ç¡®

2. **ç¯å¢ƒé—®é¢˜**ï¼š
   - æ£€æŸ¥ Node.js ç‰ˆæœ¬å…¼å®¹æ€§
   - éªŒè¯ä¾èµ–ç‰ˆæœ¬

## ğŸ“š æ›´å¤šèµ„æº

- [è¯¦ç»†æ–‡æ¡£](./docs/zh-CN/CI-CD.md)
- [GitHub Actions æ–‡æ¡£](https://docs.github.com/en/actions)
- [npm å‘å¸ƒæŒ‡å—](https://docs.npmjs.com/cli/v8/commands/npm-publish)

## ğŸ†˜ è·å–å¸®åŠ©

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. æŸ¥çœ‹ GitHub Actions æ—¥å¿—
2. æ£€æŸ¥ [Issues](../../issues)
3. æäº¤è¯¦ç»†çš„é”™è¯¯æŠ¥å‘Š

---

**æ³¨æ„**ï¼šé¦–æ¬¡è®¾ç½®åï¼Œå»ºè®®å…ˆè¿›è¡Œæµ‹è¯•å‘å¸ƒï¼Œç¡®ä¿æ‰€æœ‰é…ç½®æ­£ç¡®ã€‚ 
